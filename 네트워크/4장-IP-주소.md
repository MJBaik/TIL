영상: [[따라學 IT] 04. 실제로 컴퓨터끼리는 IP주소를 사용해 데이터를 주고받는다](https://youtu.be/s5kIGnaNFvM?list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi)

### 3계층의 기능

- 3계층에서 하는 일

  - 서로 다른 LAN 대역을 연결시켜주는 역할

- 3계층에서 쓰는 주소 (WAN에서 통신할 때 사용되는 주소)

  - IP주소 (IP주소, 서브넷마스크, 게이트웨이)

- 3계층 프로토콜
  - ARP 프로토콜
  - IPv4 프로토콜
  - IPv6 프로토콜
  - ICMP 프로토콜

### 일반적인 IP 주소 (IPv4 주소)

#### Classful IP주소

- 4byte, xxx.xxx.xxx.xxx 형태 (이진수 8자리 x 4)
- 제일 앞 3자리는 네트워크 대역 (A, B, C 클래스까지 일반 PC에서 사용)
- 점으로 네트워크 대역을 구분

  | 클래스   | 네트워크 구분          | 시작 주소 | 마지막 주소     |
  | -------- | ---------------------- | --------- | --------------- |
  | A 클래스 | 0xxxxxxx, 첫 번째 필드 | 0.0.0.0   | 127.255.255.255 |
  | B 클래스 | 10xxxxxx, 두 번째 필드 | 128.0.0.0 | 191.255.255.255 |
  | C 클래스 | 110xxxxx, 세 번째 필드 | 192.0.0.0 | 192.255.255.255 |
  | D 클래스 | 1110xxxx, 멀티캐스트   | 224.0.0.0 | 239.255.255.255 |
  | E 클래스 | 1111xxxx, 예약         | 240.0.0.0 | 255.255.255.255 |

#### Classless IP주소

- IP를 클래스에 딱 맞게 씀 -> 낭비가 심함 -> IP가 부족해짐 -> 클래스를 없애자
- <b>서브넷 마스크</b>: 네트워크 대역을 나눠주는 데 사용하는 값
  - 2진수로 표기했을 때 1로 시작, 1과 1 사이에는 0이 올 수 없다 (0이 나오면 그 뒤는 전부 0)
  - 앞의 1들은 네트워크 대역 구분, 0은 네트워크 대역에 속해있는 컴퓨터를 구분하는 값으로 사용
  - ex: 255.255.255.192 - (11111111. 11111111. 11111111. 11)(000000) => 컴퓨터 64대 사용 가능

#### 사설 IP와 공인 IP

- IP 부족 현상을 해결하기 위해 만들어짐

- 공인IP: 인터넷 통신망과 통신할 때 사용하는 IP주소

- 사설IP: 같은 네트워크 대역에서 사용하는 IP주소 (공인IP 1개당 2^32개의 사설IP)
  - 외부에서 봤을 때 안 보이기 때문에 port forwarding을 해줘야지만 바깥에서 안쪽으로 들어올 수 있다.

### 특수한 IP 주소

- 0.0.0.0/0 (와일드카드): <u>나머지</u> 모든 IP -> 컴퓨터에 사용하는 넘이 아님
- 127.0.0.1 (127.x.x.x): 자기 자신을 나타내는 주소
- 게이트웨이 주소: 공유기 WAN IP주소
